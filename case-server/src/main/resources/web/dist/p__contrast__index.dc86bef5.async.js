(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{CzkO:function(t,e,a){"use strict";a.r(e);a("BFtC");var s=a("ZzqE"),r=(a("z7iZ"),a("O4+N")),o=(a("6/yB"),a("SE39")),n=(a("SMEU"),a("xc0u")),i=a("xwgP"),c=a.n(i),l=a("8Zup"),d=a.n(l),h=(a("8Dty"),a("FG+t")),m=a("on7z");d.a.locale("zh-cn");e.default=class extends c.a.Component{constructor(t){super(t),this.getHistoryList=(()=>{Object(m.a)("/backup/getBackupByCaseId",{method:"GET",params:{caseId:this.props.match.params.caseId}}).then(t=>{200===t.code&&this.setState({historyList:t.data})})}),this.contrastClick=(()=>{var t=this.state.rows;this.props.history.push("/caseManager/historyContrast/".concat(t[0].id,"/").concat(t[1].id))}),this.setTableColums=(()=>[{title:"备份ID",dataIndex:"id"},{title:"创建时间",dataIndex:"gmtCreated",render:t=>c.a.createElement("span",null,d()(t).format("YYYY-MM-DD HH:mm:ss"))},{title:"创建人",dataIndex:"creator"}]),this.state={rowKeys:[],rows:[],historyList:[]}}componentDidMount(){this.getHistoryList()}render(){var t={onChange:(t,e)=>{this.setState({rowKeys:t,rows:e})},getCheckboxProps:t=>({disabled:this.state.rowKeys.length>=2&&!this.state.rowKeys.includes(t.id),name:t.name})};return c.a.createElement("section",{style:{marginBottom:30}},c.a.createElement(h.a,null),c.a.createElement(s.a,{bordered:!1,className:this.state.rowKeys.length>=2?"contras_card":"contras_card_default"},c.a.createElement("div",{className:"contras_title"},c.a.createElement(o.a,{placement:"top",title:this.state.rowKeys.length<2?"选择两个版本后，才可以对比哦～":null},c.a.createElement(n.a,{type:"primary",disabled:this.state.rowKeys.length<2,onClick:this.contrastClick},"对比已选择版本"))),c.a.createElement(r.a,{rowKey:"id",rowSelection:t,columns:this.setTableColums(),dataSource:this.state.historyList})))}}}}]);